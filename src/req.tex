\section{Требования к программе}
\label{sec:req}
\subsection{Требования к функциональности}
    \label{sec:req:fn}
    Чат-бот должен поддерживать следующие функции:
    \begin{enumerate}
        \item
            Доступ пользователей к внутренней базе знаний
        \item
            Редактирование базы знаний пользователями, наделёнными на это правом
        \item
            Рассылка новостей, связанных с экологической повесткой, подписавшимся на рассылку
            пользователям
        \item
            Автоматический сбор новостей с интернет-ресурсов для их дальнейшей рассылки
    \end{enumerate}

    \subsubsection{База знаний}
        \label{sec:req:fn:kb}
        Внутренняя база знаний представляет из себя иерархическую систему из разделов
        и заметок. Вне зависимости от наполнения базы знаний информацией, в ней существует единственный
        корневой раздел, не имеющий имени. Каждый раздел, не являющийся корневым, а также
        каждая заметка принадлежат тому или иному разделу (в том числе корневому). Циклическая
        принадлежность разделов (например, раздел \(A\) принадлежит разделу \(B\), который, в свою
        очередь, принадлежит разделу \(A\)) запрещена; также никакой раздел не может принадлежать самому
        себе. Корневой раздел не принадлежит никакому разделу. Таким образом, разделы, заметки и отношение
        принадлежности образуют иерархическую структуру --- дерево разделов. Эта структура напоминает
        дерево файлов и папок в файловой системе. Схематичное изображение примера дерева разделов
        показано на рис.~\ref{fig:req:fn:kb:tree}.
        \begin{figure}[h]
            \centering
            \begingroup
            \newlength{\treeindent}
            \newlength{\treeskip}
            \setlength{\treeindent}{2em}
            \setlength{\treeskip}{-3ex}
            \newcounter{treeline}
            \setcounter{treeline}0
            \newcommand{\mypoint}[2]{(#2 * \treeindent, #1 * \treeskip)}
            \newcommand{\outpoint}[2]{(#2 * \treeindent + 0.75em, #1 * \treeskip - 1.5ex)}
            \newcommand{\midpoint}[2]{(#2 * \treeindent + 0.75em, #1 * \treeskip)}
            \newcommand{\inpoint}[2]{(#2 * \treeindent - 0.1em, #1 * \treeskip)}
            \newcommand{\mynode}[2]{
                \node at \mypoint{\thetreeline}{#1} [anchor = west] {#2};%
                \stepcounter{treeline}%
            }
            \begin{tikzpicture}
                \mynode 0 {\emjfolder{} Корневой раздел}
                    \mynode 1 {\emjfolder{} Раздел <<Экология в Вышке>>}
                        \mynode 2 {\emjfolder{} Раздел <<Сбор отходов>>}
                            \mynode 3 {\emjnote{} Заметка <<Раздельный сбор мусора>>}
                            \mynode 3 {\emjnote{} Заметка <<Места сбора батареек>>}
                        \mynode 2 {\emjnote{} Заметка <<Планы развития>>}
                    \mynode 1 {\emjfolder{} Раздел <<О боте>>}
                        \mynode 2 {\emjnote{} Заметка <<Справка>>}
                    \mynode 1 {\emjnote{} Заметка <<Основная информация>>}
                \draw \outpoint00 -- \midpoint80;
                    \draw \midpoint10 -- \inpoint11;
                    \draw \midpoint60 -- \inpoint61;
                    \draw \midpoint80 -- \inpoint81;
                \draw \outpoint11 -- \midpoint51;
                    \draw \midpoint21 -- \inpoint22;
                    \draw \midpoint51 -- \inpoint52;
                \draw \outpoint22 -- \midpoint42;
                    \draw \midpoint32 -- \inpoint33;
                    \draw \midpoint42 -- \inpoint43;
                \draw \outpoint61 -- \midpoint71;
                    \draw \midpoint71 -- \inpoint72;
            \end{tikzpicture}
            \endgroup
            \caption{Пример дерева разделов.}
            \label{fig:req:fn:kb:tree}
        \end{figure}

        Каждый не-корневой раздел имеет имя. Каждая заметка имеет имя и содержимое.
        Именем явлется строка символов Юникода, поддерживаемых мессенджером, длиной
        не более 300~символов. У разделов и заметок, непосредственно принадлежащих одному и тому же
        разделу, имена должны различаться. Таким образом, запрещено наличие в одном разделе
        (а) двух разделов, (б) двух заметок и (в) раздела и заметки с одинаковыми именами.

        Содержимое каждой заметки является текстом длиной не более 3500~символов, а также может содержать
        не более 10~вложений. Каждое вложение --- это либо изображение разрешением не больше
        \(1920 \times 1080\)~пикселей, либо видео размером не более 50~МБ\footnote{
            Здесь и далее подразумеваются двоичные единицы измерения: \(1~\text{МБ} = 1024~\text{КБ}
            = 1048576~\text{Б}\).
        }, либо файл размером не более 50~МБ. Текст и вложения должны быть доступны пользователю
        через стандартные средства мессенджера. Допускается отправка текста и вложений
        отдельными соседними сообщениями.

        Навигация и просмотр базы знаний доступны всем пользователям.
        Пользователи, имеющие на это право, могут также редактировать базу знаний.
        Способ навигации по базе знаний, просмотра заметок и редактирования базы знаний
        описан в разделе \ref{sec:req:ui}.
        Правила определения пользователей, имеющих право на редактирование, описаны в разделе
        \ref{sec:req:sec}.

    \subsubsection{Сбор новостей}
        \label{sec:req:fn:grabnews}
        Не реже, чем один раз в день, бот совершает запросы на Интернет-ресурсы с целью получения с них
        новостей, связанных с экологической повесткой. Перечень собираемой информации:
        \begin{enumerate}
            \item
                Загловок новости
            \item
                Текст новости
            \item
                Прямая ссылка на источник новости (ресурс, с которого новость получена)
            \item
                Автор новости (если указан)
            \item
                Дата публикации (если указана)
        \end{enumerate}

        Данная операция происходит автоматически, без участия человека. При невозможности сбора данных
        с одного или нескольких ресурсов по той или иной причине бот посылает сервисное уведомление
        с описанием ошибки, а также записывает информацию об ошибке в системный журнал.

        При риске возникновения препятствий к автоматическому сбору новостей (например, CAPTCHA-проверок)
        или если правила пользования ресурса, с которого собирается информация, запрещает автоматизированный
        доступ к новостям, допускается брать новости из RSS-ленты соответствующего ресурса при её наличии.
        В таком случае, допускается не получать полный текст новости, сохраняя лишь заголовок,
        ссылку на источник и иную информацию при её наличии.

        Полученные новости сохраняются во внутреннюю базу данных бота и потом используются для новостных
        рассылок, описанных в разделе \ref{sec:req:fn:newsletter}.

        \todo{Перечень ресурсов, с которых необходимо собирать новости.}

    \subsubsection{Новостная рассылка}
        \label{sec:req:fn:newsletter}
        Один раз в сутки \inlinetodo{возможно, стоит дать пользователю возможность настройки?} бот
        должен рассылать всем пользователям, подписанным на новостную рассылку, новости с внешних
        ресурсов, которые были собраны за этот день. Пользователю
        должна выводиться вся информация, сохранённая в базе данных, перечисленная в разделе
        \ref{sec:req:fn:grabnews}. Если текст новости длиннее 3500~символов или не помещается в
        стандартное сообщение мессенджера, допускается приводить только его начало, указывая,
        что по ссылке на источник откроется полный текст новости.

        Каждая новость присылается одним сообщением, не содержит вложений и
        должна быть маркирована хэштегом \hbox{\texttt{\#новость}}.

        Пользователям, не подписанным на новостную рассылку на момент её проведения, не должны
        рассылаться новостные сообщения.

        Бот не должен присылать сообщения с новостями пользователям, которые в данный момент находятся
        в интерактивном состоянии (см.~раздел~\ref{sec:req:ui:states}),
        однако он может уведомить их о том, что новостная рассылка для них готова.
        После выхода пользователя из интерактивного состояния бот должен повторить попытку
        рассылки не ранее, чем через 30~секунд, но не позднее, чем через 30~минут.
        Если, руководствуясь данными правилами, бот не может отправить пользователю рассылку
        более 24~часов, то допускается не отправлять данную рассылку этому пользователю в этот день.

        Также бот не должен присылать какие-либо сообщения пользователям в первоначальном
        состоянии (см.~раздел~\ref{sec:req:ui:states}) кроме непосредственного ответа на действия
        пользователя. Отправка рассылок пользователям в этом состоянии не осуществляется. Если
        во время рассылки пользователь находится в этом состоянии, то данную рассылку он не получает.

    \subsubsection{Сервисные уведомления}
        \label{sec:req:fn:service}
        При возникновении определённых ситуаций, описанных в техническом задании,
        бот рассылает сервисные уведомления тем пользователям, которые на них подписаны и имеют
        право их получать. Сервисное уведомление представляет из себя одно сообщение с текстом
        не длиннее 3500~символов и не более, чем одним вложением.

        Каждое сервисное уведомление должно быть промаркировано хэштегом \hbox{\texttt{\#сервисное}}.
        Также применимы правила отправки рассылок пользователям в интерактивном или первоначальном состоянии,
        описанные в разделе \ref{sec:req:fn:newsletter}.

    \subsubsection{Управление подпиской на рассылки}
        \label{sec:req:fn:subscriptions}
        Любой пользователь имеет возможность подписаться, отписаться и проверить статус подписки на
        любые рассылки, доступные этому пользователю. Перечень рассылок, поддерживаемых ботом:
        \begin{enumerate}
            \item
                Новостная рассылка, описанная в разделе \ref{sec:req:fn:newsletter}.
                Доступна всем пользователям, по умолчанию подписка неактивна.
            \item
                Рассылка сервисных уведомлений, описанная в разделе \ref{sec:req:fn:service}.
                Доступна только пользователям, наделённых правом получения сервисных уведомлений,
                подписка автоматически становится активна, когда пользователя в первый
                раз наделяют необходимыми правами.
        \end{enumerate}

    \subsubsection{Управление правами пользователей}
        \label{seq:req:fn:roles}
        Пользователи, наделённые правами администратора, могут выдавать другим
        пользователям права и отзывать их. Также они могут редактировать свои права.
        Поддерживаемые права пользователей описаны в разделе \ref{sec:req:sec}.
        После любого редактирования прав пользователей должен остаться хотя бы один
        пользователь с правами администратора. Попытка изменения прав, не соблюдающая
        это ограничение, заканчивается ошибкой и отсутствием изменений в правах.

\subsection{Требования к интерфейсу}
    \label{sec:req:ui}
    Интерфейс взаимодействия с ботом (отправка текста, изображений, видео и файлов)
    должен обеспечиваться стандартными средствами мессенджера. В любой момент времени работы
    бота пользователю доступны:
    \begin{enumerate}
        \item
            История взаимодействия с ботом: сообщения, отправленные ботом и пользователем
            друг другу
        \item
            Состояние, в котором на текущий момент находится взаимодействие с ботом, определяемое
            по последнему сообщению, отправленному ботом\footnote{В данном документе встречаются формулировки
            <<состояние пользователя>>, <<состояние бота>> и <<состояние взаимодействия
            (между пользоватем и ботом)>>. Данные формулировки являются эквивалентными и имеют
            один и тот же смысл. Формулировка <<состояние бота>> всегда подразумевает конкретного пользователя,
            взаимодействующего с ботом, поскольку состояние не является глобальным: взаимодействие одного
            пользователя с ботом не влияет на состояние взаимодействия другого пользователя с этим ботом.}
        \item
            Доступные методы дальнейшего взаимодействия с ботом: поле для ввода текста и вложений
            и/или кнопки или ссылки с вариантами взаимодействия, нажатие на которые приведёт к передаче
            команды боту, в зависимости от текущего состояния взаимодействия
    \end{enumerate}
    В каждом состоянии пользователю доступен определённый набор действий, каждое из которых
    приводит к ответу со стороны бота и переходу в другое или то же самое состояние.
    Информация, отправляемая и принимаемая ботом зависит от текущего состояния и определяется в разделе
    \ref{sec:req:ui:states}.

    \subsubsection{Состояния взаимодействия пользователя с ботом}
        \label{sec:req:ui:states}
        \begingroup
        \newcommand{\action}[1]{\textit{#1}}%
        \newcommand{\state}[1]{\uline{#1}}%
        В данном разделе \action{курсивом} указаны действия пользователя, а \state{подчёркнутым текстом}
        --- состояния взаимодействия.

        Пользователь, который до этого не взаимодействовал с ботом, а также пользователь, который
        до этого \action{остановил} бота и ещё не \action{запустил} его вновь, начинают
        своё взаимодействие с ним в \hyperref[itm:req:ui:states:init]{\state{первоначальном}} состоянии.
        Дальнейшее взаимодействие происходит согласно списку состояний, указанному ниже.
        Если для какого-то состояния какой-то вариант ввода со стороны пользователя не указан в данном
        списке, бот должен в ответ на него отправить сообщение, объясняющее, что данный
        ввод некорректен и остаться в том же состоянии.

        Интерактивным называется состояние, в котором пользователь не находится в процессе выполнения
        какого-либо действия с ботом. Для каждого из перечисленных ниже состояний может быть указано,
        считается ли оно интерактивным или нет. Если для какого-то состояния такого указания нет,
        оно считается интерактивным.
        \begin{enumerate}
            \item \label{itm:req:ui:states:init}
                \state{Первоначальное} состояние \\
                Состояние, в котором пользователь ещё не начал общение с ботом.
                Пользователю должна быть доступна кнопка с текстом <<Начать>>\footnote{
                Везде в этом документе, где указан текст элементов интерфейса, допускается
                использование другого текста с таким же смыслом, если это не повредит восприятию
                интерфейса пользователем.}, за исключением случаев, когда это технически невозможно.

                Любой ввод со стороны пользователя кроме отправки сообщений с одним или несколькими
                вложениями должен восприниматься ботом как \action{запуск} бота, при этом бот должен прислать
                сообщение с приветствием и кратким описанием своих функций, и перейти в состояние
                \hyperref[itm:req:ui:states:mainmenu]{\state{главного меню}}.
                Если же пользователь отправляет сообщение с одним или несколькими
                вложениями, бот должен отправить сообщение с объяснением, что он не готов принять вложения
                в данный момент, и что для того, чтобы начать работу с ботом, требуется \action{запустить}
                его. Состояние при этом не должно измениться.

                Данное состояние не счтается интерактивным.

            \item \label{itm:req:ui:states:mainmenu}
                \state{Главное меню} \\
                Состояние, в котором пользователь оказывается непосредственно после \action{запуска}
                бота или после завершения какого-либо действия с ботом. Пользователю должны быть доступны
                следующие интерактивные кнопки или ссылки:
                \begin{itemize}
                    \item
                        По одной кнопке на каждый закреплённый раздел и каждую закреплённую заметку.
                        При \action{нажатии} на кнопку закреплённого раздела пользователь переходит
                        в состояние
                        \hyperref[itm:req:ui:states:navx]
                        {\state{навигации по базе знаний в \placeholder{выбранном разделе}}}.
                        При \action{нажатии} на кнопку закреплённой заметки пользователь переходит
                        в состояние
                        \hyperref[itm:req:ui:states:view-note]
                        {\state{просмотра \placeholder{выбранной заметки}}}.
                        Кнопки доступны и видимы всем пользователям.
                    \item
                        <<Все статьи>>
                        При \action{нажатии} на кнопку пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:view-note]
                        {\state{просмотра \placeholder{выбранной заметки}}}.
                        Кнопка доступна и видима всем пользователям.
                    \item
                        По одной кнопке для каждого ресурса, с которыми настроена и включена интеграция.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:integrationx]
                        {\state{взаимодействия с \placeholder{выбранным ресурсом}}}.
                        Кнопка доступна и видима всем пользователям.
                    \item
                        <<Панель администратора>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:adminpanel]
                        {\state{работы с панелью администратора}}.
                        Кнопка доступна и видима пользователям, имеющим права администратора.
                    \item
                        <<Подписки на рассылки>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:subscriptions]
                        {\state{управления подписками}}.
                        Кнопка доступна и видима всем пользователям.
                    \item
                        <<Обратная связь>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:feedback]
                        {\state{обратной связи}}.
                        Кнопка доступна и видима всем пользователям.
                \end{itemize}
                Пример возможного расположения элементов пользовательского интерфейса показан на
                рис.~\ref{fig:sketch:mainmenu} и рис.~\ref{fig:sketch:mainmenu-for-admins}.

                Данное состояние не считается интерактивным.

            \item \label{itm:req:ui:states:navx}
                \state{Навигация по базе знаний в разделе \(X\)}

                Состояние, в котором пользователь находится при перемещении по разделам
                базы знаний. Раздел \(X\) --- это любой существующий раздел в базе знаний (включая корневой).
                Пользователю должен выводиться полный путь к разделу (от корневого). Пример
                вывода пути ко вложенному разделу показан на рис.~\ref{fig:sketch:kb-pagination}.

                В интерфейсе должны быть перечислены все разделы и заметки, содержащиеся в разделе
                \(X\). При необходимости следует использовать постраничный вывод этой информации
                (не более 10 элементов на странице), давая пользователю возможность переключаться
                между страницами вывода. В таком случае необходимо указывать, сколько всего элементов
                (разделом и заметок) в данном разделе и какие по номеру элементы отображаются в данный момент.
                Также пользователю должны быть доступны следующие интерактивные кнопки или ссылки:
                \begin{itemize}
                    \item
                        <<Вверх>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:navx]
                        {\state{навигации по базе знаний в разделе \(Y\)}}, где \(Y\)
                        --- это родительский раздел \(X\) (т.е. раздел \(X\) принадлежит
                        разделу \(Y\)).
                        Кнопка доступна всем пользователям и видима, если текущий раздел
                        не является корневым.
                    \item
                        <<В главное меню>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:mainmenu]
                        {\state{главного меню}}.
                        Кнопка доступна и видима всем пользователям.
                    \item
                        По одной кнопке на каждый раздел и каждую заметку, содержащиеся в разделе \(X\).
                        При \action{нажатии} на кнопку раздела пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:navx]
                        {\state{навигации по базе знаний в \placeholder{выбранном разделе}}}.
                        При \action{нажатии} на кнопку заметки пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:view-note]
                        {\state{просмотра \placeholder{выбранной заметки}}}.
                        Кнопки доступны и видимы всем пользователям.
                    \item
                        Прочие элементы интерфейса для организации постраничного вывода.
                        При \action{нажатии} пользователь переходит между страницами
                        вывода, не меняя состояния.
                        Кнопка доступна всем пользователям и видима, если полный
                        вывод не умещается на одну страницу.
                        Пример расположения таких элементов интерфейса показан
                        на рис.~\ref{fig:sketch:kb-pagination}.
                \end{itemize}
                Пример возможного расположения элементов пользовательского интерфейса показан на
                рис.~\ref{fig:sketch:kb-navigation-for-viewers} и
                рис.~\ref{fig:sketch:kb-navigation-for-editors}.

            \item \label{itm:req:ui:states:view-note}
                \state{Просмотр заметки \(X\)}

                Состояние, в котором пользователь имеет возможность прочитать текст и/или загрузить
                вложения определённой заметки. \(X\) может быть любой существующей заметкой.

                Бот отправляет пользователю одно или несколько сообщений (согласно правилам, указанным в
                данном техническом задании), в которых содержится следующая информация:
                \begin{itemize}
                    \item
                        Название заметки
                    \item
                        Текст заметки
                    \item
                        Все вложения, принадлежащие данной заметке (при их наличии)
                \end{itemize}

                Пользователю должны быть доступны следующие интерактивные кнопки или ссылки:
                \begin{itemize}
                    \item
                        <<Назад>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:navx]
                        {\state{навигации по базе знаний в разделе \(Y\)}}, где \(Y\)
                        --- это родительский раздел по отношению к заметке \(X\)
                        (т.е. заметка \(X\) принадлежит разделу \(Y\)).
                        Кнопка доступна и видима всем пользователям.
                    \item
                        <<В главное меню>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:mainmenu]
                        {\state{главного меню}}.
                        Кнопка доступна и видима всем пользователям.
                    \item
                        <<Редактировать>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:edit-note]
                        {\state{редактирования заметки}}.
                        Кнопка доступна и видима пользователям, имеющим право на редактирование базы знаний.
                    \item
                        <<Переименовать>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:rename-kbo]
                        {\state{переименования объекта базы знаний}}.
                        Кнопка доступна и видима пользователям, имеющим право на редактирование базы знаний.
                    \item
                        <<Переместить в другой раздел>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:move-kbo]
                        {\state{перемещения объекта базы знаний}}.
                        Кнопка доступна и видима пользователям, имеющим право на редактирование базы знаний.
                    \item
                        <<Удалить>>.
                        При \action{нажатии} пользователь переходит в состояние
                        \hyperref[itm:req:ui:states:delete-kbo]
                        {\state{подтверждения удаления объекта базы знаний}}.
                        Кнопка доступна и видима пользователям, имеющим право на редактирование базы знаний.
                \end{itemize}

                Пример возможного расположения элементов пользовательского интерфейса показан на
                рис.~\ref{fig:sketch:kb-note-for-viewers} и
                рис.~\ref{fig:sketch:kb-note-for-editors}.

            \item \label{itm:req:ui:states:integrationx}
                \state{Взаимодействие с ресурсом \(X\)}

                Данный класс состояний описан в разделе \ref{par:req:ui:states:integrations}.

            \item \label{itm:req:ui:states:subscriptions}
                \state{Управление подписками}

                В данном состоянии пользователь видит список доступных ему рассылок и подписан ли
                он на каждую из них, а также может подписаться на какие-либо рассылки или отписаться
                от них.

                Для каждой доступной пользователю подписки должны выводиться или предоставляться пользователю
                следующие данные:
                \begin{itemize}
                    \item
                        Название рассылки
                    \item
                        Краткое описание рассылки
                    \item
                        Статус подписки пользователя на эту рассылку (подписан или не подписан)
                    \item
                        Кнопка или ссылка для подписки или отписки от данной рассылки
                \end{itemize}

                При \action{нажатии} на кнопку или ссылку для подписки на рассылку или отписки от неё
                бот должен прислать пользователю уведомление о соответствующем изменении в статусе
                его подписки.

                Также пользователю должна быть доступна кнопка или ссылка <<В главное меню>>.
                При \action{нажатии} пользователь переходит в состояние
                \hyperref[itm:req:ui:states:mainmenu]
                {\state{главного меню}}.

            \item \label{itm:req:ui:states:adminpanel}
                \todo{\state{Работа с панелью администратора}}

            \item \label{itm:req:ui:states:feedback}
                \todo{\state{Обратная связь}}

            \item \label{itm:req:ui:states:edit-note}
                \todo{\state{Редактирование заметки}}

            \item \label{itm:req:ui:states:rename-kbo}
                \todo{\state{Переименование объекта базы знаний}}

            \item \label{itm:req:ui:states:move-kbo}
                \todo{\state{Перемещение объекта базы знаний (текущий раздел \(X\))}}

            \item \label{itm:req:ui:states:delete-kbo}
                \todo{\state{Подтверждение удаления объекта базы знаний}}
        \end{enumerate}

        \paragraph{Интеграция с внешними ресурсами}
            \label{par:req:ui:states:integrations}
            ~\par
            В данном разделе описывается пользовательский интерфейс для интеграции с внешними
            ресурсами и сопутствующие состояния взаимодействия с ботом.
            Интерфейс для интеграции с каждым ресурсом описан в своём подразделе.
            Каждый подраздел содержит описание состояний взаимодействия пользователя с ботом,
            связанных с одним ресурсом.

            \subparagraph{Зелёная вышка}
                \begin{itemize}
                    \item
                        \todo{\state{Взаимодействие с ресурсом <<Зелёная вышка>>}}
                \end{itemize}

            \subparagraph{Качество воздуха в Москве}
                \begin{itemize}
                    \item
                        \todo{\state{Взаимодействие с ресурсом <<Индекс качества воздуха в Москве>>}}
                \end{itemize}

            \subparagraph{Календарь событий}
                \begin{itemize}
                    \item
                        \todo{\state{Взаимодействие с ресурсом <<Календарь событий>>}}
                \end{itemize}
        \endgroup

\subsection{Требования к безопасности}
    \label{sec:req:sec}
    \todo{Описание прав пользователей и управления ими.}

\subsection{Требования к надёжности}
    \label{sec:req:reliab}
    \todo{Требования к обеспечению надёжного функционирования,
    контроль входных и выходных данных, время восстановления после отказа, etc.}

\subsection{Условия эксплуатации}
    \label{sec:req:maint}
    \todo{Физические условия, вид обслуживания, количество и квалификация персонала для обслуживания}

\subsection{Требования к составу и параметрам технических средств}
    \label{sec:req:hw}
    \todo{Требования к серверу (аппаратные и программные) и к клиентским приложениям для мессенджера}

\subsection{Требования к информационной и программной совместимости}
    \label{sec:req:compat}
    \todo{Формат данных, методы решения, языки программирования, библиотеки, etc.}

\subsection{Требования к маркировке и упаковке}
    \label{sec:req:ship}
    \todo{Поставка программы заказчику, взаимодействие пользователей с программой}

\subsection{Требования к транспортированию и хранению}
    \label{sec:req:data}
    \todo{Условия хранения и передачи данных}

\subsection{Специальные требования}
    \label{sec:req:etc}
    \todo{Другие требования при наличии}

